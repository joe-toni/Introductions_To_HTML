<!DOCTYPE html>
<html lang="en-us">
<head>
    <title>HTML Playground</title>
    <link  id="tab" rel="icon" type="image/x-icon" href= "./assets/favicon _first_frame.ico">
    <meta charset="UTF-8">
    <meta name="author" content="Jose Faburrieta">
    <meta name="description" content="A personal project meant for checking out some HTML components">
    <meta name="keywords" content="HTML, testing, elements">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
</head>

<body >
    <header>
       <h1>HTML Playground</h1>
        <nav>
            <div class="col">
                <a href="./groups/01_introduction.html#intro" target="iframe_a"><h3>Introduction</h3></a>
                <a href="./groups/02_sectioning.html#intro" target="iframe_a"><h3>Sectioning</h3></a>
                <a href="./groups/03_text_elements.html#intro" target="iframe_a"><h3>Text Elements</h3></a>
            </div>
            <div class="col"> 
                <a href="./groups/04_embeded_content.html" target="iframe_a"><h3>Embeded Content</h3></a>
                <a href="./groups/05_forms.html" target="iframe_a"><h3>Forms</h3></a>
            </div>
            </details>
        </nav>
    </header>
    
    <main>
        <iframe class="shared" id="frame" src="./groups/01_introduction.html#intro" name="iframe_a" title="Element Window" scrolling="no"></iframe>
        <div class="test-area">
            <div class="example-adjust">
                <button onclick="getSubject(); setDisplay();">See Example</button>
                <button onclick="clearSample();">Clear</button>
            </div>
        <article id="sample-space">
            <textarea id="workArea" placeholder="Example Area, Type Here" oninput="setCurrent(); setDisplay();"></textarea>
            <iframe srcdoc="See It Rendered here" name="iframe_a" title="Element Window" width="50%" height="250" id="workDisplay"></iframe>
        </article>
    </main>
</body>

    <!--
        This bit of javascript will animate the favicon on this index page by alternating 
        the href attribute on the link in the header at an interval of every two seconds.
    -->
<script type="text/javascript">  


    let workArea = document.getElementById("workArea"); 
    let workDisplay = document.getElementById("workDisplay");
    let current = '';
    
    let first = "./assets/favicon _first_frame.ico";
    let second = "./assets/favicon_second_frame.ico";
    
    let img = document.getElementById("tab");
    function changeIcon()
    {
        if ( document.visibilityState =="hidden")
            {
                return;
            }
         else if (img.getAttribute("href") == first)
            {
                img.setAttribute("href", second);
            }
        else
            {
                img.setAttribute("href", first);
            }
    }
    window.setInterval(changeIcon, 2000);
    
    function getSubject()
    {
        current = localStorage.getItem('subject');
        console.log(current);
        workArea.value = current;
    }

    function setDisplay()
    {
        workDisplay.setAttribute("srcdoc", current);
    }

    function setCurrent()
    {
        current = workArea.value;
    }

    function clearSample()
    {
        workArea.value = '';
        workDisplay.setAttribute("srcdoc", "");
    }

</script>
</html>